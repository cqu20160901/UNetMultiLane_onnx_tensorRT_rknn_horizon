2023-05-09 21:22:25,459 file: hb_mapper.py func: hb_mapper line No: 70 Start hb_mapper....
2023-05-09 21:22:25,460 file: hb_mapper.py func: hb_mapper line No: 71 log will be stored in /convert_model/horizon_model_convert_sample/04_detection/09_Unet_mutilLane/mapper/hb_mapper_checker.log
2023-05-09 21:22:25,460 file: hb_mapper.py func: hb_mapper line No: 72 hbdk version 3.27.4
2023-05-09 21:22:25,460 file: hb_mapper.py func: hb_mapper line No: 73 horizon_nn version 0.13.3
2023-05-09 21:22:25,460 file: hb_mapper.py func: hb_mapper line No: 74 hb_mapper version 1.6.8a
2023-05-09 21:22:25,461 file: hb_mapper.py func: hb_mapper line No: 76 parameter [output] is deprecated
2023-05-09 21:22:25,470 file: helper.py func: helper line No: 124 Model input names: ['data']
2023-05-09 21:22:25,471 file: hb_mapper_checker.py func: hb_mapper_checker line No: 104 Model type: onnx
2023-05-09 21:22:25,471 file: hb_mapper_checker.py func: hb_mapper_checker line No: 105 march: bernoulli2
2023-05-09 21:22:25,471 file: hb_mapper_checker.py func: hb_mapper_checker line No: 110 input names []
2023-05-09 21:22:25,471 file: hb_mapper_checker.py func: hb_mapper_checker line No: 111 input shapes {}
2023-05-09 21:22:25,472 file: hb_mapper_checker.py func: hb_mapper_checker line No: 117 Begin model checking....
2023-05-09 21:22:25,472 file: build.py func: build line No: 36 [Tue May  9 21:22:25 2023] Start to Horizon NN Model Convert.
2023-05-09 21:22:25,472 file: dict_parser.py func: dict_parser line No: 28 The input parameter is not specified, convert with default parameters.
2023-05-09 21:22:25,472 file: dict_parser.py func: dict_parser line No: 513 The hbdk parameter is not specified, and the submodel will be compiled with the default parameter.
2023-05-09 21:22:25,473 file: build.py func: build line No: 143 HorizonNN version: 0.13.3
2023-05-09 21:22:25,473 file: build.py func: build line No: 147 HBDK version: 3.27.4
2023-05-09 21:22:25,473 file: build.py func: build line No: 36 [Tue May  9 21:22:25 2023] Start to parse the onnx model.
2023-05-09 21:22:25,513 file: onnx_parser.py func: onnx_parser line No: 146 ONNX model info:
ONNX IR version:  6
Opset version:    11
Input name:       data, [1, 3, 480, 640]
2023-05-09 21:22:25,562 file: build.py func: build line No: 39 [Tue May  9 21:22:25 2023] End to parse the onnx model.
2023-05-09 21:22:25,563 file: build.py func: build line No: 266 Model input names: ['data']
2023-05-09 21:22:25,578 file: build.py func: build line No: 537 Saving the original float model: ./.hb_check/original_float_model.onnx.
2023-05-09 21:22:25,579 file: build.py func: build line No: 36 [Tue May  9 21:22:25 2023] Start to optimize the model.
2023-05-09 21:22:25,750 file: build.py func: build line No: 39 [Tue May  9 21:22:25 2023] End to optimize the model.
2023-05-09 21:22:25,765 file: build.py func: build line No: 548 Saving the optimized model: ./.hb_check/optimized_float_model.onnx.
2023-05-09 21:22:25,765 file: build.py func: build line No: 36 [Tue May  9 21:22:25 2023] Start to calibrate the model.
2023-05-09 21:22:25,842 file: calibration_data_set.py func: calibration_data_set line No: 67 There are 1 samples in the calibration data set.
2023-05-09 21:22:25,843 file: max_calibrater.py func: max_calibrater line No: 68 Run calibration model with max method.
2023-05-09 21:22:26,236 file: build.py func: build line No: 39 [Tue May  9 21:22:26 2023] End to calibrate the model.
2023-05-09 21:22:26,236 file: build.py func: build line No: 36 [Tue May  9 21:22:26 2023] Start to quantize the model.
2023-05-09 21:22:26,646 file: build.py func: build line No: 39 [Tue May  9 21:22:26 2023] End to quantize the model.
2023-05-09 21:22:26,786 file: build.py func: build line No: 562 Saving the quantized model: ./.hb_check/quantized_model.onnx.
2023-05-09 21:22:26,786 file: build.py func: build line No: 36 [Tue May  9 21:22:26 2023] Start to compile the model with march bernoulli2.
2023-05-09 21:22:26,786 file: dict_parser.py func: dict_parser line No: 518 Parsing the hbdk parameter:{'hbdk_pass_through_params': '--O0'}
2023-05-09 21:22:26,981 file: hybrid_build.py func: hybrid_build line No: 123 Compile submodel: torch-jit-export_subgraph_0
2023-05-09 21:22:27,155 file: hbdk_cc.py func: hbdk_cc line No: 119 hbdk-cc parameters:['--O0', '--input-layout', 'NHWC', '--output-layout', 'NCHW']
2023-05-09 21:22:28,946 file: build.py func: build line No: 39 [Tue May  9 21:22:28 2023] End to compile the model with march bernoulli2.
2023-05-09 21:22:28,948 file: node_info.py func: node_info line No: 54 The converted model node information:
============================================================================================
Node                                               ON   Subgraph  Type                       
---------------------------------------------------------------------------------------------
Conv_0                                             BPU  id(0)     HzSQuantizedConv           
Conv_2                                             BPU  id(0)     HzSQuantizedConv           
MaxPool_4                                          BPU  id(0)     HzQuantizedMaxPool         
Conv_5                                             BPU  id(0)     HzSQuantizedConv           
Conv_7                                             BPU  id(0)     HzSQuantizedConv           
MaxPool_9                                          BPU  id(0)     HzQuantizedMaxPool         
Conv_10                                            BPU  id(0)     HzSQuantizedConv           
Conv_12                                            BPU  id(0)     HzSQuantizedConv           
MaxPool_14                                         BPU  id(0)     HzQuantizedMaxPool         
Conv_15                                            BPU  id(0)     HzSQuantizedConv           
Conv_17                                            BPU  id(0)     HzSQuantizedConv           
MaxPool_19                                         BPU  id(0)     HzQuantizedMaxPool         
Conv_20                                            BPU  id(0)     HzSQuantizedConv           
Conv_22                                            BPU  id(0)     HzSQuantizedConv           
Conv_24                                            BPU  id(0)     HzSQuantizedConv           
Conv_26                                            BPU  id(0)     HzSQuantizedConv           
Conv_28                                            BPU  id(0)     HzSQuantizedConv           
Conv_30                                            BPU  id(0)     HzSQuantizedConv           
Conv_32                                            BPU  id(0)     HzSQuantizedConv           
Conv_34                                            BPU  id(0)     HzSQuantizedConv           
Conv_36                                            BPU  id(0)     HzSQuantizedConv           
Conv_38                                            BPU  id(0)     HzSQuantizedConv           
Gemm_46                                            BPU  id(0)     HzSQuantizedConv           
Gemm_47                                            BPU  id(0)     HzSQuantizedConv           
Gemm_47_reshape_0                                  CPU  --        Reshape                    
ConvTranspose_50                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_202_0.219943985342979_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_51                                          BPU  id(0)     Concat                     
Conv_52                                            BPU  id(0)     HzSQuantizedConv           
Conv_54                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_56                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_273_0.121835887432098_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_57                                          BPU  id(0)     Concat                     
Conv_58                                            BPU  id(0)     HzSQuantizedConv           
Conv_60                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_62                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_279_0.058625899255276_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_63                                          BPU  id(0)     Concat                     
Conv_64                                            BPU  id(0)     HzSQuantizedConv           
Conv_66                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_68                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_223_0.060200758278370_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_69                                          BPU  id(0)     Concat                     
Conv_70                                            BPU  id(0)     HzSQuantizedConv           
Conv_72                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_74                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_291_0.159349754452705_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_272_0.159349754452705_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_76                                          BPU  id(0)     Concat                     
Conv_77                                            BPU  id(0)     HzSQuantizedConv           
Conv_79                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_81                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_298_0.121835887432098_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_278_0.121835887432098_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_83                                          BPU  id(0)     Concat                     
Conv_84                                            BPU  id(0)     HzSQuantizedConv           
Conv_86                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_88                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_216_0.281370818614960_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_284_0.281370818614960_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_90                                          BPU  id(0)     Concat                     
Conv_91                                            BPU  id(0)     HzSQuantizedConv           
Conv_93                                            BPU  id(0)     HzSQuantizedConv           
ConvTranspose_95                                   BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_312_0.159349754452705_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_297_0.159349754452705_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_98                                          BPU  id(0)     Concat                     
Conv_99                                            BPU  id(0)     HzSQuantizedConv           
Conv_101                                           BPU  id(0)     HzSQuantizedConv           
ConvTranspose_103                                  BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_209_0.491421997547150_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_278_0.491421997547150_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_304_0.491421997547150_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_106                                         BPU  id(0)     Concat                     
Conv_107                                           BPU  id(0)     HzSQuantizedConv           
Conv_109                                           BPU  id(0)     HzSQuantizedConv           
ConvTranspose_111                                  BPU  id(0)     HzSQuantizedConvTranspose  
UNIT_CONV_FOR_202_1.162772774696350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_272_1.162772774696350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_297_1.162772774696350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
UNIT_CONV_FOR_319_1.162772774696350_TO_FUSE_SCALE  BPU  id(0)     HzSQuantizedConv           
Concat_115                                         BPU  id(0)     Concat                     
Conv_116                                           BPU  id(0)     HzSQuantizedConv           
Conv_118                                           BPU  id(0)     HzSQuantizedConv           
Conv_120                                           BPU  id(0)     HzSQuantizedConv           
Conv_121                                           BPU  id(0)     HzSQuantizedConv           
Conv_122                                           BPU  id(0)     HzSQuantizedConv           
Conv_123                                           BPU  id(0)     HzSQuantizedConv
2023-05-09 21:22:28,948 file: build.py func: build line No: 39 [Tue May  9 21:22:28 2023] End to Horizon NN Model Convert.
2023-05-09 21:22:28,951 file: onnx2horizonrt.py func: onnx2horizonrt line No: 2841 ONNX model output num : 2
2023-05-09 21:22:28,962 file: hb_mapper_checker.py func: hb_mapper_checker line No: 141 End model checking....
